# üìÑ PR0501: Implantaci√≥n del dominio

## ‚úÖ Objetivos
Eres el nuevo administrador de sistemas del **IES San Andr√©s**. El centro ha decidido centralizar la gesti√≥n de usuarios y equipos, y tu primera tarea es implantar un dominio de Active Directory.

El nombre de dominio interno ser√°: **`iessanandres.local`**

El centro tiene una estructura organizativa que debe reflejarse en el directorio activo para facilitar la gesti√≥n. La estructura acad√©mica se divide en:

- **Familia de Administraci√≥n:**
  - Ciclo Superior de Administraci√≥n y Finanzas (AFI)
  - Ciclo Superior de Asistencia a la Direcci√≥n (GAD)
  - Ciclo Medio de Gesti√≥n Administrativa (SCO)
- **Familia de Inform√°tica:**
  - Ciclo Superior de Desarrollo de Aplicaciones Multiplataforma (DAM)
  - Ciclo Superior de Desarrollo de Aplicaciones Web (DAW)
  - Ciclo Superior de Administraci√≥n de Sistemas (ASIR)
  - Ciclo Medio de Sistemas Microinform√°ticos y Redes (SMR)
  - Curso de Especializaci√≥n en Inteligencia Artificial y Big Data (IAyBD)

Adem√°s de los alumnos y profesores de estas familias, tambi√©n existe el personal de administraci√≥n y servicios (PAS).

## üìå 1. Promoci√≥n del controlador de dominio
En nuestra m√°quina de **Windows Server 2025**, pondremos la **IP est√°tica** en nuestro adaptador de **s√≥lo anfitri√≥n** en **VirtualBox**. Vamos al **CMD** y ponemos `ipconfig`. Luego, vamos a **`Panel de control ‚Üí Redes e internet ‚Üí Centro de redes y recursos compartidos`** y en el men√∫ de la izquierda clicamos en **`Cambiar configuraci√≥n del adaptador`**. Clicamos en nuestro adaptador y pondremos la IP. En este caso la IP ser√° de la siguiente manera:

![IP Windows Server](Imagenes/Ej1.png)

Ahora, instalamos el servicio de Active Directory **(AD)**. Para ello, vamos al apartado de **Herramientas** y luego en **Agregar roles y caracter√≠sticas**.

![Agregar roles y caracter√≠sticas](Imagenes/Ej1_1.png)

En el siguiente punto de la instalaci√≥n seleccionamos **Servicios de dominio de Active Directory** y a√±adimos las caracter√≠sticas que nos saldr√° en una ventana al seleccionarlo.

![Agregar roles y caracter√≠sticas](Imagenes/Ej1_2.png)

Ahora, en este apartado, seleccionamos la casilla para que se reinicien los servicios en caso necesario y le damos a **Instalar**.

![Reinciar servicio](Imagenes/Ej1_3.png)

Una vez instalado, tendremos que ir al apartado de notificaciones (porque nos saldr√° con un signo de peligro) y clicaremos en **Promover este servidor a controlador de dominio**.

![Aviso de promover servidor](Imagenes/Ej1_4.png)

Cuando hayamos clicado, nos saldr√° una ventana para configurar el dominio.

En la primera ventana, para crear un nuevo dominio, seleccionamos **Agregar un nuevo bosque** y le pondremos el nombre de `iessanandres.local`.

![Configuraci√≥n de implementaci√≥n](Imagenes/Ej1_5.png)

Pondremos la contrase√±a para nuestro nuevo bosque, dejamos el nivel funcional tal cual est√°, si lo cambiamos de versi√≥n, se quedar√° con las funciones de esa versi√≥n.

![Opciones del controlador de dominio](Imagenes/Ej1_6.png)

Aqu√≠, solamente clicamos en Siguiente, no podemos hacer clic en **Crear delegaci√≥n DNS**.

![Opciones de DNS](Imagenes/Ej1_7.png)

En esta parte, nos sale el nombre que tendr√° el dominio cuando se vaya a iniciar sesi√≥n. Si es un usuario que ya est√° dentro, cuando vaya a iniciar sesi√≥n, en vez de `"usuario"`, aparecer√° como `"IESSANANDRES\'usuario'"`. En mi caso, lo dejar√© como viene por defecto.

![Opciones adicionales](Imagenes/Ej1_8.png)

En este apartado, ser√° para saber d√≥nde se va a encontrar las rutas de configuraci√≥n y del dominio. Podemos dejarlo como viene.

![Rutas de acceso](Imagenes/Ej1_9.png)

En la siguiente ventana, nos aparecer√° un resumen de lo que hayamos configurado antes de crear el controlador de dominio.

![Revisar opciones](Imagenes/Ej1_10.png)

Aqu√≠, se har√° una comprobaci√≥n antes de instalarlo todo. Vemos que al final de la comprobaci√≥n, tenenemos un ‚úÖ. Ahora procedemos a instalarlo.

![Comprobaci√≥n de requisitos](Imagenes/Ej1_11.png)

Cuando se haya instalado, se reiniciar√° el equipo de manera autom√°tica cuando haya acabado.  
Podemos ver ahora que al iniciar sesi√≥n, podemos ver el dominio.

![Inicio de sesi√≥n](Imagenes/Ej1_12.png)

## üìå 2. Dise√±o de la Estructura de Unidades Organizativas (UO)
Estructura que se va a seguir:

---

- **`IES San Andres`** (UO Ra√≠z para la gesti√≥n del centro)
  - **`Alumnado`**
    - `Informatica`
      - `DAM`
      - `DAW`
      - `ASIR`
      - `SMR`
      - `IAyBD`
    - `Administracion`
      - `AFI`
      - `GAD`
      - `SCO`
  - **`Profesorado`**
    - `Informatica`
    - `Administracion`
  - **`Personal_PAS`** (Personal de Administraci√≥n y Servicios)
  - **`_Grupos`** (UO para almacenar todos los grupos de seguridad)
  - **`_Equipos`** (UO para los equipos del dominio)
    - `Aulas_Informatica`
    - `Aulas_Administracion`
    - `Despachos`

---

> üí¨ En el ejercicio, aparece que `Profesorado` aparece al lado de `SCO`. Tendr√≠a que estar como en `Alumnados` para tener dentro a los grupos de `Informatica` y `Administracion`.

Para hacer todo esto, vamos a ir a **Herramientas** y **Usuarios y equipos de Active Directory**.

![Usuarios y equipos AD](Imagenes/Ej2.png)

Una vez dentro, haremos clic derecho en nuestro dominio y ah√≠ crearemos a la unidad organizativa principal.

Creamos la **Unidad Organizativa principal**, que ser√° `IES San Andres`.

![UO principal](Imagenes/Ej2_1.png)

Ahora, crearemos lo que queda de la estructura dentro de esta unidad organizativa haciendo clic derecho y crear a los grupos y dem√°s unidades organizativas.

Creamos al grupo de Alumnado.

![Crear Alumnado](Imagenes/Ej2_2.png)

Seguimos haciendo grupos y Unidades Organizativas porque no hay usuarios espec√≠ficos todav√≠a. Luego, a√±adiremos esos grupos a otros grupos para tener la estructura deseada.

Al terminar, nos quedar√° m√°s o menos de la siguiente manera:

![Estructura](Imagenes/Ej2_3.png)

Hay una Unidad Organizativa que tiene otros grupos dentro:

![_Equipos](Imagenes/Ej2_4.png)

Ahora, agregamos los grupos a otros grupos para que quede todo como en la estructura. En este caso he elegido al grupo de `ASIR` para ponerlo de ejemplo.  
Para a√±adir un grupo a otro, tenemos que ir al grupo deseado y hacer clic derecho y **Propiedades**. Luego, vamos a la pesta√±a de **Miembros de** y **Agregar...**. En el cuadro, podemos poner directamente el nombre y luego en Comprobar nombres y si existe, se pone de manera autom√°tica.

![A√±adir a grupo](Imagenes/Ej2_5.png)

Cuando lo hayamos agregado, nos aparecer√° de la siguiente manera:

![Grupos](Imagenes/Ej2_6.png)

Haremos lo mismo para los dem√°s grupos para tener la estructura.  
Imagenes para ver c√≥mo ha quedado:

![Todos los grupos a√±adidos](Imagenes/Ej2_7.png)
> üí¨ Para ver la imagen m√°s grande, puedes hacer clic derecho y **Abrir imagen en pesta√±a nueva**.

Los que est√°n dentro de la Unidad Organizativa de `_Equipos`, no est√°n asignados a otros grupos.

## üìå 3. Creaci√≥n de Usuarios y Grupos
### 1. Crear Usuarios:
Para este ejercicio, crearemos usuarios para los grupos, es decir, poblar la Unidad Organizativa.  
Vamos a crear los siguientes usuarios:  
- Dos usuarios para el grupo de `ASIR`
- Dos usuarios para el grupo de `AFI`
- Un profesor para `Profesorado/Informatica`
- Un usuario para `Personal_PAS`


### 2. Crear grupos de Seguridad:
Vamos a crear los siguientes grupos de seguridad dentro de la Unidad Organizativa de `_Grupos`, tal y como hemos hecho en los ejercicios anteriores.  
Los grupos que vamos a a√±adir son:  
- GRP_Alumnos_DAM
- GRP_Alumnos_AFI
- GRP_Profesores_Informatica
- GRP_Personal_PAS
- GRP_Alumnos_General (Un grupo que contendr√° a todos los alumnos)
- GRP_Profesores_General (Un grupo que contendr√° a todos los profesores)


### 3. Asignar Miembros:
- A√±adimos a los usuarios que hemos creado a sus respectivos grupos.
- Hacer que `GRP_Alumnos_DAM` y `GRP_Alumnos_AFI` pertenezcan al grupo de `GRP_Alumnos_General`.

































## üìå 4. Restricci√≥n de Horas de Inicio de Sesi√≥n


---
### [‚¨ÖÔ∏è Volver a UT05](../index.md)
---