#  PR0604: Manipulaci贸n de colecciones en PowerShell
>  Para hacer los ejercicios, se pondr谩 a la vez en el mismo cuadro el comando de entrada y de salida acompa帽ado de la captura de pantalla para ver el resultado.

##  Parte 1: Arrays fijos
###  1. Reconfiguraci贸n de DNS y Verificaci贸n
**Paso 1:**
```powershell
$dns = "192.168.1.10", "10.0.0.50"
```

>  El primero se encuentra en la posici贸n 0 y el segundo en la posici贸n 1.

**Paso 2:**
```powershell
"Configuraci贸n actual: " + $dns[0] + " - " + $dns[1]
```

![Configuraci贸n actual](Imagenes/Ej1-2.png)

**Paso 3:**
```powershell
$dns[1] = "8.8.8.8"
```

**Paso 4:**
```powershell
$dns.Length
```

![Contar DNS](Imagenes/Ej1-4.png)

**Paso 5:**
```powershell
"Configuraci贸n final: " + $dns[0] + " - " + $dns[1]
```

![Configuraci贸n final](Imagenes/Ej1-5.png)

###  2. Rotaci贸n de logs de backups (LIFO - Last In, First Out)
**Paso 1:**
```powershell
$backups = @(
"Backup_Lunes.zip"
"Backup_Martes.zip"
"Backup_Miercoles.zip")
```

![Array Backups](Imagenes/Ej2-1.png)

>  El primero se encuentra en la posici贸n 0, el segundo en la posici贸n 1 y el tercero en la posici贸n 2.

**Paso 2:**
```powershell
$oldest = $backups[0]
```

**Paso 3:**
```powershell
$newest = $backups[2]
```

**Paso 4:**
```powershell
$backups[2] = $backups[2] + " (CORRUPTO)"
```

**Paso 5:**
```powershell
"Rotaci贸n de backups: Del " + $oldest + " al " + $newest
```

![](Imagenes/Ej2-5.png)

##  Parte 2: ArrayList
###  3. Gesti贸n de Cola de incidencias (Priorizaci贸n)
**Paso 1:**
```powershell
$incidencias = New-Object System.Collections.ArrayList
```

**Paso 2:**
```powershell
$null = $incidencias.Add("Monitor parpadea")
$null = $incidencias.Add("Rat贸n no va")
```

**Paso 3:**
```powershell
$incidencias.Insert(0, "SERVIDOR CADO")
```

**Paso 4:**
```powershell
$incidencias.Remove("Rat贸n no va")
```

**Paso 5:**
```powershell
$incidencias
"Total de incidencias: " + $incidencias.Count
```

![Resultado incidencias](Imagenes/Ej3-5.png)

###  4. Validaci贸n de lista negra de IPs (Seguridad)
**Paso 1:**
```powershell
$listaNegra = New-Object System.Collections.ArrayList
$null = $listaNegra.Add("10.10.10.5")
$null = $listaNegra.Add("192.168.50.4")
$null = $listaNegra.Add("80.80.80.80")
```

**Paso 2:**
```powershell
$NuevaAmenaza = "192.168.50.4"
```

**Paso 3:**
```powershell
if ($ListaNegra -contains $NuevaAmenaza) {
"La IP " + $NuevaAmenaza + " ya estaba bloqueada."
} else {
$null = $ListaNegra.Add($NuevaAmenaza)
"La IP " + $NuevaAmenaza + " se ha a帽adido a la lista negra."}
```

![](Imagenes/Ej4-3.png)

**Paso 4:**
```powershell
$listaNegra | Sort-Object
```

![](Imagenes/Ej4-4.png)

##  Parte 3: Listas gen茅ricas
###  5. Hardening de puertos de Firewall (List[int])
**Paso 1:**
```powershell

```

![](Imagenes)

**Paso 2:**
```powershell

```

![](Imagenes)

**Paso 3:**
```powershell

```

![](Imagenes)

**Paso 4:**
```powershell

```

![](Imagenes)

**Paso 5:**
```powershell

```

![](Imagenes)

**Paso 6:**
```powershell

```

![](Imagenes)

###  6. Inventario de servicios cr铆ticos (List[string])
**Paso 1:**
```powershell

```

![](Imagenes)

**Paso 2:**
```powershell

```

![](Imagenes)

**Paso 3:**
```powershell

```

![](Imagenes)

**Paso 4:**
```powershell

```

![](Imagenes)

##  Parte 4: Manipulaci贸n de texto
###  7. An谩lisis de Log de usuario
**Entrada:**
```powershell
$logLine = " User: admin ; IP: 192.168.1.55 ; Status: Failed "
```
(Nota los espacios extra al principio y final).

**Paso 1:**
```powershell

```

![](Imagenes)

**Paso 2:**
```powershell

```

![](Imagenes)

**Paso 3:**
```powershell

```

![](Imagenes)

**Paso 4:**
```powershell

```

![](Imagenes)

**Paso 5:**
```powershell

```

![](Imagenes)


###  8. Generador de CSV para recursos humanos
**Paso 1:**
```powershell

```

![](Imagenes)

**Paso 2:**
```powershell

```

![](Imagenes)

**Paso 3:**
```powershell

```

![](Imagenes)

**Paso 4:**
```powershell

```

![](Imagenes)

**Paso 5:**
```powershell

```

![](Imagenes)

---
### [猬锔 Volver a UT06](../index.md)
---