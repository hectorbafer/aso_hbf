# 📄 PR0202

## 📌 1. Preparación de la máquina y configuración de la red

### Apartado 1
Entramos en la configuración de nuestra máquina virtual y en red, añadimos un adaptador de red y lo ponemos en **Adaptador sólo anfitrión**. Tenemos también el adaptador principal como **NAT** que es el que nos permite conectarnos a la red.

![Apartado 1](Imagenes/ej1A1.png)

### Apartado 2
Ponemos `ip a` para averiguar que IP tenemos en nuestra máquina. Como tenemos dos adaptadores, se indicarán cuál es cual.  
- **enp0s3:** Adaptador sólo anfitrión
    - **IP:** 192.168.56.103

- **enp0s8**: Adaptador NAT
    - **IP:** 10.0.3.15

Si no tuvieramos puesto el adaptador al haber creado la máquina, tendíamos que poner la red de manera manual y para ello habría que entrar en `sudo nano /etc/netplan/50-cloud-init.yaml` y ahí pondíamos la IP.

![Apartado 2](Imagenes/ej1A2.png)


Luego, al guardar el archivo y salir, guardamos los cambios con `sudo netplan apply`. Pero como no es en este caso, solo ponemos `ip a`.

![Apartado 2_1](Imagenes/ej1A2_1.png)

Pero como lo hemos hecho antes de crear la máquina no haría falta.  

Y en **Windows**, nuestro adaptador de VirtualBox, con el nombre de **Adaptador de Ethernet VirtualBox**, tenemos la IP **192.168.56.1**.

![Apartado 2_2](Imagenes/ej1A2_2.png)

### Apartado 3
Para poder conectarnos con **SSH**, vamos a tener que poner el **usuario** y la **IP del adaptador de red de sólo anfitrión** de tal manera que sea `ssh "usuario"@"IP"`.  

Luego nos pedirá la contraseña, y si es todo correcto, ya estamos dentro de la terminal de la máquina de nuestro **Ubuntu Server** en nuestra máquina anfitriona.

![Apartado 3](Imagenes/ej1A3.png)

### Apartado 4
Para cambiar el hostname de nuestro equipo, es decir, si en mi máquina tengo al principio de la línea de comandos `hector@hbf-server:~$`, donde pone `hbf-server` se va a cambiar por el hostname que queramos. Donde pone `hector`, es el usuario con el que estamos conectados.  

Entonces, para cambiar el hostname, editamos el archivo con `sudo nano /etc/hostname`.

![Apartado 4](Imagenes/ej1A4.png)

Para comprobarlo, ponemos el comando `sudo hostnamectl`.

![Apartado 4_1](Imagenes/ej1A4_1.png)

Como Linux no reconoce la barra baja **"_"** al ponerlo de hostname, simplemente la ignora y nos quedaría de hostname como `hbfserver`.

### Apartado 5


## 📌 2. Creación del usuario y conexión SSH

### Apartado 1
Creamos el usuario con `sudo useradd -m -s /bin/bash "hbf_ssh"` y luego, le ponemos la contraseña con `sudo passwd hbf_ssh`.  

`-m` crea el directorio **/home** para los usuarios. `-s /bin/bash` añade **Bash** como línea de comandos.

### Apartado 2
Iniciamos sesión con el nuevo usuario que hemos creado, en este caso, `hbf_ssh`.

![Apartado 2](Imagenes/ej2A2.png)

### Apartado 3


## 📌 3. Conexión transparente a Github


---
### [⬅️ Volver a UT02](../index.md)
---